<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Календарь Залеза</title>

<script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/dayjs@1/plugin/isoWeek.js"></script>
<script src="https://cdn.jsdelivr.net/npm/dayjs@1/locale/ru.js"></script>

<link rel="stylesheet" href="styles/main.css">
<link rel="icon" type="image/png" href="icons/rockzona.png">

</head>

<body>

<div class="container">
<div id="calendarPage" class="page active">
<div class="profile-card">
<input type="text" id="userName" class="profile-name-input" placeholder="Адам Ондра">
</div>

<div class="calendar-header">
<button class="icon-button" onpointerdown="shiftMonthBy(-1)" aria-label="Предыдущий месяц">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>
</button>
<h2 id="monthTitle"></h2>
<div class="calendar-header-actions">
<button class="icon-button" onpointerdown="shiftMonthBy(1)" aria-label="Следующий месяц">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"/></svg>
</button>
</div>
</div>

<div id="calendarWrap" class="calendar-wrap">
    <div id="calendar" class="grid"></div>
</div>

<section id="gymsPage" class="page gyms-page active" aria-hidden="false">
    <div class="gyms-page-header-row">
        <h2>Скалодромы</h2>
    </div>
    <div id="gymsCards" class="gyms-cards"></div>
</section>

</div>

</div>

<button id="themeCycleButton" class="theme-cycle-button" type="button" aria-label="Сменить цветовую тему" title="Сменить цветовую тему" onpointerdown="cycleTheme()">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <path d="M12 3.2c-4.86 0-8.8 3.94-8.8 8.8S7.14 20.8 12 20.8h.39c1.28 0 2.1-1.38 1.47-2.5l-.15-.26c-.61-1.07.17-2.41 1.41-2.41h1.96a3.72 3.72 0 0 0 0-7.44H12z"/>
        <circle cx="7.95" cy="9.15" r="1.2" fill="currentColor" stroke="none"/>
        <circle cx="11.25" cy="7.7" r="1.1" fill="currentColor" stroke="none"/>
        <circle cx="14.85" cy="8.5" r="1.1" fill="currentColor" stroke="none"/>
        <circle cx="16.6" cy="11.9" r="1.1" fill="currentColor" stroke="none"/>
    </svg>
</button>


<button id="chatToggleButton" class="chat-toggle-button" type="button" aria-label="Открыть чат" title="Открыть чат" onpointerdown="toggleChatPanel()">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <path d="M20 15a3 3 0 0 1-3 3H9l-5 3 1.1-4.4A3 3 0 0 1 4 14V7a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3z"></path>
    </svg>
</button>

<div id="chatOverlay" class="chat-overlay" aria-hidden="true"></div>

<div id="chatPanel" class="chat-panel" aria-hidden="true">
    <div id="chatMessages" class="chat-messages"></div>
    <div class="chat-panel-input">
        <textarea id="chatMessageInput" rows="1"></textarea>
        <button type="button" id="chatSendButton" class="chat-send-button" aria-label="Отправить">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                <path d="M22 2L11 13"></path>
                <path d="M22 2L15 22l-4-9-9-4z"></path>
            </svg>
        </button>
    </div>
</div>

<div class="overlay" id="overlay"></div>
<div class="overlay" id="gymOverlay"></div>

<div id="modal">
<h3 id="modalDateTitle"></h3>
<div id="visitsList"></div>
<hr>
<div class="modal-controls">
<div class="custom-select" id="gymSelectUi"></div>
<input type="hidden" id="gymSelect">
<div class="custom-select" id="visitTimeUi"></div>
<input type="hidden" id="visitTime">
<label class="uncertain-toggle" for="visitUncertain">
    <span>Не уверен</span>
    <input type="checkbox" id="visitUncertain" class="uncertain-checkbox">
</label>
<button id="submitVisitButton" onpointerdown="submitVisit()">Записаться</button>
</div>
</div>

<div id="gymModal" class="gym-modal">
    <div class="gym-modal-header">
        <h3 id="gymModalTitle"></h3>
        <button type="button" id="gymEditToggle" class="icon-button" aria-label="Редактировать">
            ✎
        </button>
    </div>
    <div id="gymModalBody"></div>
</div>

<script src="scripts/common/core.js"></script>
<script src="scripts/calendar/config.js"></script>
<script src="scripts/calendar/data.js"></script>
<script src="scripts/calendar/ui.js"></script>
<script src="scripts/calendar/render.js"></script>
<script src="scripts/calendar/controller.js"></script>
<script src="scripts/gyms.js"></script>
<script src="scripts/app.js"></script>

<script src="scripts/chat/config.js"></script>
<script src="scripts/chat/data.js"></script>
<script src="scripts/chat/view.js"></script>
<script src="scripts/chat/controller.js"></script>
<script src="scripts/chat.js"></script>


</body>
</html>
